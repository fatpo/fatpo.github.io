# 1、背景
最近一个朋友吐槽，说是在看新项目的代码，着实是头疼呀。

听他细细道来：
* 一个函数要做2，3件事
* 副作用那是必不可少的
* 一个简单的业务，要往下跳3，4个函数调用，期间带着副作用飞来飞去
* 一个service 800行，一个函数200行
* 做了很多过度设计，可能未来半年都不会用到的需求
* hardCode是原罪
* 2万行代码竟然几乎没有接口

听朋友说，和那个开发者的沟通交流，好像他并没有意识到这么写是不对的。

我在想，国哥是否也是陷入了同样的思维，也许我意识不到自己也是错的？

趁着这个机会，边吐槽项目，边温习下6大设计原则。


# 2、关联
* [六大设计原则之一：封闭开放](http://fatpo.github.io/#/设计模式/六大原则/封闭开放)
* [六大设计原则之一：单一职责](http://fatpo.github.io/#/设计模式/六大原则/单一职责)
* [六大设计原则之一：迪米特](http://fatpo.github.io/#/设计模式/六大原则/迪米特)
* [六大设计原则之一：接口隔离](http://fatpo.github.io/#/设计模式/六大原则/接口隔离)
* [六大设计原则之一：依赖倒置](http://fatpo.github.io/#/设计模式/六大原则/依赖倒置)
* [六大设计原则之一：里式替换](http://fatpo.github.io/#/设计模式/六大原则/里式替换)

# 3、迪米特法则
ps：我一直不知道为啥这个是法则，另外几个是原则。

通俗来讲，越少人知道越好，越少影响越好。

国哥的实际体验：
* 就是函数调用，传一个大对象进去也行，传大对象的某一个属性进去也行，那么就选择后者。
* 如果A可以调用B做事，B再调用C做事，那么A就不应该再去调用C。
* 如果一个功能能放到自己这里，就不要放到别人那里，也是减少和朋友的曝光机会。
* 函数访问权限尽可能减少public，多用private。

官话：
```
一个对象应该对其他对象有最少的了解。
1、只和直接朋友交流。Only talk to your immediate friends.
2、朋友有距离。
3、是自己的就是自己的。
```

国哥感觉这个比较有指导意义，特别是当你有两次或者三次的重构经验，就会觉得迪米特真的香喷喷，自己琢磨吧。